<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HTML FPS Game - Basic Green Baseplate</title>
  <style>
    html, body {
      margin: 0;
      overflow: hidden;
      height: 100%;
      background: skyblue;
    }
    #game {
      perspective: 1000px;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      position: relative;
    }
    #camera {
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transform: translateZ(0px);
      position: absolute;
      top: 0;
      left: 0;
    }
    .tile {
      position: absolute;
      width: 10m;
      height: 10m;
      background: green;
      transform-style: preserve-3d;
    }
    .cloud {
      position: absolute;
      width: 100px;
      height: 60px;
      background: grey;
      border-radius: 50%;
      opacity: 0.7;
    }
  </style>
</head>
<body>
  <div id="game">
    <div id="camera"></div>
  </div>
  <script>
    const camera = document.getElementById('camera');

    // Create ground tiles
    for (let x = -50; x <= 50; x += 10) {
      for (let z = -50; z <= 50; z += 10) {
        const tile = document.createElement('div');
        tile.className = 'tile';

        // Smooth hill effect: simple sine wave + random
        const height = Math.sin(x * 0.1) * Math.cos(z * 0.1) * 2 + Math.random() * 3;

        tile.style.transform = `translate3d(${x}m, ${-height}m, ${z}m)`;
        camera.appendChild(tile);
      }
    }

    // Create clouds
    for (let i = 0; i < 10; i++) {
      const cloud = document.createElement('div');
      cloud.className = 'cloud';
      cloud.style.background = `rgb(${100 + Math.random()*50},${100 + Math.random()*50},${100 + Math.random()*50})`;
      cloud.style.transform = `translate3d(${(Math.random() - 0.5) * 200}m, ${(Math.random() * -50) - 20}m, ${(Math.random() - 0.5) * 200}m)`;
      camera.appendChild(cloud);
    }

    // Controls
    let posX = 0;
    let posZ = 0;
    let rotY = 0;
    const keys = {};

    document.addEventListener('keydown', e => keys[e.code] = true);
    document.addEventListener('keyup', e => keys[e.code] = false);

    document.addEventListener('mousemove', e => {
      if (document.pointerLockElement === document.body) {
        rotY -= e.movementX * 0.1;
      }
    });

    document.body.addEventListener('click', () => {
      document.body.requestPointerLock();
    });

    function animate() {
      requestAnimationFrame(animate);

      const speed = 0.5;
      const rad = rotY * Math.PI / 180;

      if (keys['KeyW']) {
        posX += Math.sin(rad) * speed;
        posZ += Math.cos(rad) * speed;
      }
      if (keys['KeyS']) {
        posX -= Math.sin(rad) * speed;
        posZ -= Math.cos(rad) * speed;
      }
      if (keys['KeyA']) {
        posX -= Math.cos(rad) * speed;
        posZ += Math.sin(rad) * speed;
      }
      if (keys['KeyD']) {
        posX += Math.cos(rad) * speed;
        posZ -= Math.sin(rad) * speed;
      }

      camera.style.transform = `translate3d(${-posX}m, 0, ${-posZ}m) rotateY(${rotY}deg)`;
    }

    animate();
  </script>
</body>
</html>
